<!DOCTYPE html>
<html>
  <head>
    <meta charset = "utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="shortcut icon" href="{{url_for('static', filename='capybara.svg')}}"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='manage_time.css')}}"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <title>心理系實驗報名系統（demo）</title>
  </head>
  <body>
    <div class="main-box">
      <h2>報名列表</h2>
      <div style="display:block;overflow:auto;max-height:360px;">
        <table class="table table-dark" id="table">
          <thead>
            <th scope="col">時間</th>
            <th scope="col">參與者名字</th>
            <th scope="col">email</th>
            <th scope="col">是否校內人士</th>
          </thead>
          
          <tbody>
            {% for row in subj%}
            <tr id="{{row['_id']}}">
              <td scope="row" contenteditable="true">{{row['time']}}</td>
              <td scope="row" contenteditable="true">{{row['name']}}</td>
              <td scope="row" contenteditable="true">{{row['email']}}</td>
              <td scope="row" contenteditable="true">{{row['in_school']}}</td>
            </tr>
            {% endfor %}
            
            {% for time in available%}
            <tr id="{{time}}">
              <td scope="row" contenteditable="true">{{time}}</td>
              <td scope="row" contenteditable="true">available</td>
              <td scope="row" contenteditable="true"></td>
              <td scope="row" contenteditable="true"></td>
            </tr>
            {% endfor %}
          </tbody>
        </table>  
      </div>
      <div style= "width:100%">
        <div id="btn-container"><button class="btn btn-secondary"  type="button" id="add">新增一行</button></div>
        <div id="btn-container"><button class="btn btn-secondary" type="button" id="submit">儲存</button>
      </div>
    </div>
    <script type="text/javascript" src="{{url_for('static', filename='manage_time.js')}}"></script>
  </body>
</html>